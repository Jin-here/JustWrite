package com.example.activity;

import android.app.Activity;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.content.Intent;
import android.os.Bundle;
import android.provider.Settings;
import android.view.animation.AlphaAnimation;
import android.view.animation.Animation;
import android.view.animation.Animation.AnimationListener;
import android.widget.ImageView;
import android.widget.TextView;

import com.example.avrilweibo.R;
import com.example.util.Tools;


public class LoadActivity extends Activity {
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		// TODO Auto-generated method stub
		super.onCreate(savedInstanceState);
		setContentView(R.layout.load);
		
		ImageView loadImage = (ImageView)findViewById(R.id.loadImageView);
		//透明度界面动画(取值从0.1~1.0)
		AlphaAnimation animation = new AlphaAnimation(0.0f,1.0f);
		//是指动画持续时间
		animation.setDuration(500);
		loadImage.setAnimation(animation);
		
		animation.setAnimationListener(new AnimationListener() {
			//动画启动的时候执行
			@Override
			public void onAnimationStart(Animation arg0) {
				// TODO Auto-generated method stub
				//获得网络状态管理器
				Tools.isNetworkAvailable(LoadActivity.this);
				TextView msg = new TextView(LoadActivity.this);
				msg.setText("当前没有可以使用的网络，请设置网络！");
				new AlertDialog.Builder(LoadActivity.this)
					.setIcon(R.drawable.lufei)
					.setTitle("网络状态提示").setView(msg)
					.setPositiveButton("确定", new DialogInterface.OnClickListener() {
						
						@Override
						public void onClick(DialogInterface arg0, int arg1) {
							// TODO Auto-generated method stub
							LoadActivity.this.startActivity(new Intent(Settings.ACTION_WIRELESS_SETTINGS));
						}
					}).show();
			}
			//动画重复执行的时候执行
			@Override
			public void onAnimationRepeat(Animation arg0) {
				// TODO Auto-generated method stub
				
			}
			//动画结束的时候执行
			@Override
			public void onAnimationEnd(Animation arg0) {
				// TODO Auto-generated method stub
				
			}
		});
		
		
	}
	
	
}
