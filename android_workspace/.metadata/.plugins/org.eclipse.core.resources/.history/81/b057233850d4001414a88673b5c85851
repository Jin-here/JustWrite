package com.timefk.aiweibo.util;


import com.timefk.aiweibo.R;

import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.provider.Settings;
import android.widget.TextView;

public class Tools {
	public static boolean isNetworkAvailable(Context context){
		ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(context.CONNECTIVITY_SERVICE);
		if (connectivityManager != null){	
			NetworkInfo[] info = connectivityManager.getAllNetworkInfo();
			if (info != null){
				for (NetworkInfo network : info){
					if (network.getState() == NetworkInfo.State.CONNECTED){
						return true;//�п��������ѡ��ûѡ����������
					}
				}
			}			
		}
		return false;
	}
	
	public static void checkNetwork(final Context context){//��ֹ�����ڲ����context����
		if (!isNetworkAvailable(context)){
			TextView msg = new TextView(context);
			msg.setText(R.string.load_msg_context);
			new AlertDialog.Builder(context)
				.setIcon(R.drawable.avril25)
				.setTitle(R.string.load_msg_title).setView(msg)
				.setPositiveButton("ȷ��", new DialogInterface.OnClickListener() {
					
					@Override
					public void onClick(DialogInterface arg0, int arg1) {
						// TODO Auto-generated method stub
						context.startActivity(new Intent(Settings.ACTION_WIRELESS_SETTINGS));
					}
				}).show();
		}
		
	}
	
	
}
